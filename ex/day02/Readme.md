#  day02:  TurtleGraphicsによる作品作り

前回の演習では，Turtleパッケージを使って亀に絵を書かせるソースコードを作成したり，その絵を表にあらわす方法を紹介しました．

今日は，Turtleパッケージを使って，より芸術的な絵を書かせてみましょう．

## スクリプト起動か対話的実行か

pythonの実行は，大きく分けて3種類の実行方法があります．

1. スクリプト起動
   1.1. ソースコード（モジュール）を書いて，保存する．
   1.2. `python -m foo.py`と端末terminalで実行
2. 対話的実行
   2.1. `python`と端末で打つ．もしくは`idle`(`idle3`)と打つ→python terminal（プロンプト`>>>`）が起動
   2.2. python terminalで1手ずつ処理
3. jupyter
   3.1. `jupyter notebook`と端末で打つ．→jupyter notebookがウェブブラウザ上に起動
   3.2. 「セル」を作り，セルに複数手を書く．
   3.3. Ctrl-Enterでセル実行→セルごとに実行結果が表示される

スクリプト起動の場合，ソースコードの最後に `done()`を書いてください．

## ペンの色

黒ではない色を使用したいときは，`color`メソッドを使います．

```py
kame.color('red')
```

## 規則的に動かす

何度も同じ動きを繰り返させるには，繰り返し処理を行います．

例えば，正６角形を書かせるには，

1. 200歩，歩く
2. 左回りに60度，頭を回す
3. 200歩，歩く
4. 左回りに60度，頭を回す
5. 200歩，歩く
6. 左回りに60度，頭を回す
7. 200歩，歩く
8. 左回りに60度，頭を回す
9. 200歩，歩く
10. 左回りに60度，頭を回す
11. 200歩，歩く
 
という11手の処理が必要ですが，これは1,2の処理の繰り返しを行っています．12手目として2手目と同じく頭を回しても絵は変わらないので，1,2の処理を6回繰り返していることになります．

```py
for k in range(6):
    kame.forward(200)
    kame.left(60)

```
でこの繰り返しを行えます．

## 星☆を描いてみよう（課題1）

同様に少し考えると，☆が描けると思います．
## 正N角形を描くメソッドを作ろう（課題2）

自然数`N`を引数にして，正N角形を描くメソッドを作って見ましょう．

```py
def polygon(N):
    for .... 

```

これでもいいですが，`position()`メソッドは亀の現在位置を座標タプルで返すので，

```py
def polygon(N):
    (x,y) = position()
    while True:
        ... # Nを用いた角度で進行方向を変えて，動かす
        (xx,yy) = position()
        if (xx-x)**2 + (yy-y)**2 < 1: 
            break

```

`while True`は無限ループ（一生抜けないループ）ですが，その中の`if`で最初の位置と現在位置の位置が同じならば`break`でループを抜けるようにしています．

本来なら「距離が0ならば(`==0.0`)，」としたいがcomputerでは必ず誤差が発生するので，「十分小さい値より小さいならば，」とするのがプログラムの定石です．

whileループとbreakを使ってメソッドを作りましょう．

課題２：作成したpolygonメソッドを使って，正五角形を書きなさい．
## マウスクリックした方向に亀を動かす

亀の現在位置の座標は`position`メソッドを使うとわかります．

```py
x, y = kame.position() # x,y というタプルでx座標とy座標が返却されます．丸括弧をつけて(x,y)=kame.position()でもいい
```

座標`(x,y)`の方向の途中まで亀を動かすメソッド（自作）

```py
def come(x,y): 
    ```
    座標(x,y)の方向の途中まで亀を動かす
    ```
    (xx, yy) = position() 
    newxy = ((xx+x)/2, (yy+y)/2) # 中間座標
    goto(newxy) # newxyまで動かす
```

マウスクリックすると，クリックした座標タプルを引数メソッドに渡すメソッド

```py
onscreenclick(come)
```

##  座標`(x,y)`の方向に亀を向かせるメソッド`look`を作ってみよう（課題3）

ヒント
- 亀が現在向いている方向角は，`heading()`メソッドで返される．角度の単位は「度」degree
  
  ```py
  head = kame.heading()
  ```
- 亀の現在位置`(xx,yy)`から見た座標`(x,y)`の方向角は？
- 原点O:(0,0)から見たX:(x,y)の方向角は線分OAとx軸のなす角．
  - 三角関数は mathパッケージを使います．ただし角度はradian
    ```py
    import math
    x = math.cos(math.pi/3)
    y = math.sin(math.pi/3)
    z = math.tan(math.pi/3)
    theta = math.acos(x) # 逆コサイン
    theta = math.asin(y) # 逆サイン
    theta = math.atan(z) # 逆タンジェント
    ```
 - 45度のタンジェント `math.tan(math.pi/4)`は，`1.0`を返すので，逆関数`math.atan(1.0)`は`0.318`（pi/4）を返す．
 - では， 原点からみたX（x,y）が原点より左下側にあるときを考えよう．すなわち225度の位置にXがあるのだが，タンジェント`math.tan(5*math.pi/4)`はこのときも`1.0`である．よって逆関数`math.atan(1.0)`は`0.318`（pi/4 radian，45度）を返してしまう．225度を返すようにするには，もう一つの逆関数`math.atan2(y,x)`を用いる．この関数は`y`の正負符号により角度を正しく求めることができる．

課題３：

- 例に挙げたcomeメソッドは，亀の向きを変えずにマウスクリック方向に途中まで移動する．
- 上記で作成したlookメソッドを呼び出すことにより，亀の向きを変えてマウスクリック方向に途中まで移動するよう改造せよ．
- 作成したプログラムを動かし，何回か適当な場所でマウスクリックした場合の様子をスクリーンショットに保存せよ．

# helpを見てみよう

どんなパッケージやメソッドでも関数でもマニュアルを次の関数で読めます
．

```py
>>> help(関数名)
```

他にもPython公式サイトにマニュアルがあります．

[Python公式サイトのturtleGraphics](https://docs.python.org/ja/3/library/turtle.html)

